<form [formGroup]="customerForm" class="grid sm:grid-cols-2 gap-5 p-5">
    <h1 class="text-3xl font-semibold text-zinc-700 sm:col-span-2 mb-5">Create new customer</h1>

    <p class="sm:col-span-2 bg-red-100 text-red-500 py-3 px-4 rounded" *ngIf="error">{{error}}</p>

    <label class="flex flex-col gap-1">
        First Name
        <input type="text" class="input" id="firstName" formControlName="firstName">
        <p class="text-red-500"
            *ngIf="getControl('firstName')?.hasError('required') && getControl('firstName')?.touched">First name is
            required</p>
    </label>
    <label class="flex flex-col gap-1">
        Last Name
        <input type="text" class="input" id="lastName" formControlName="lastName">
        <p class="text-red-500" *ngIf="getControl('lastName')?.hasError('required') && getControl('lastName')?.touched">
            Last name is required</p>
    </label>
    <div class="flex gap-7 items-start overflow-hidden sm:col-span-2">
        <span>Gender</span>
        <div class="flex gap-5 font-normal text-zinc-800">
            <div>
                <input type="radio" id="male" formControlName="gender" value="Male" class="peer appearance-none hidden">
                <label for="male"
                    class="p-2 border block text-zinc-600 rounded-md pl-5 pr-6 cursor-pointer transition select-none peer-checked:bg-blue-50 peer-checked:text-blue-500 active:scale-95">
                    Male
                </label>
            </div>
            <div>
                <input type="radio" id="female" formControlName="gender" value="Female"
                    class="peer appearance-none hidden">
                <label for="female"
                    class="p-2 border block text-zinc-600 rounded-md pl-5 pr-6 cursor-pointer transition select-none peer-checked:bg-blue-50 peer-checked:text-blue-500 active:scale-95">
                    Female
                </label>
            </div>
        </div>
    </div>

    <label class="flex flex-col gap-1 sm:col-span-2">
        Email
        <input type="email" class="input" id="email" formControlName="email">
        <ng-container *ngIf="getControl('email')?.touched">
            <p class="text-red-500" *ngIf="getControl('email')?.hasError('required')">Email is required</p>
            <p class="text-red-500" *ngIf="getControl('email')?.hasError('emailExists')">Email already exists</p>
        </ng-container>
    </label>

    <label class="flex flex-col gap-1">
        Balance
        <input type="text" class="input" id="balance" formControlName="balance">
        <ng-container *ngIf="getControl('balance')?.touched">
            <p class="text-red-500" *ngIf="getControl('balance')?.hasError('required')">Balance is required</p>
            <p class="text-red-500" *ngIf="getControl('balance')?.hasError('min')">Balance must be greater than 0</p>
        </ng-container>
    </label>

    <label class="flex flex-col gap-1">
        Account Type
        <select class="input" formControlName="account-type">
            <option value="savings">Savings</option>
            <option value="checking">Checking</option>
        </select>
    </label>

    <label class="flex flex-col gap-1 sm:col-span-2">
        Address
        <textarea type="text" class="input" id="address" formControlName="address"></textarea>
        <p class="text-red-500" *ngIf="getControl('address')?.hasError('required') && getControl('address')?.touched">
            Address is required</p>
    </label>

    <button type="submit"
        class="sm:col-end-3 justify-self-end mt-4 bg-gradient-to-r from-blue-400 to-blue-500 text-white rounded py-2 px-7 transition hover:enabled:scale-105 active:scale-95 disabled:from-blue-200 disabled:to-blue-300"
        (click)="onSubmit()" [disabled]="isCreating || customerForm.invalid">{{
            isCreating ?'Loading...':'Create'}}</button>
</form>